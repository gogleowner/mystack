# Chapter 1. Kotlin: what and why

# 1.2. 코틀린의 주요 특성

## 1.2.1 대상 플랫폼 : 서버, 안들외드 등 자바가 실행되는 모든 곳

- 자바가 사용되고 있는 모든 용도에 적합하면서도 더 간결하고 생산적이며 안전한 대체언어를 제공하는 것.
- 코틀린을 도입하면 더 적은 코드로 더 편하게 프로그래머의 목표를 달성할 수 있을 것.

## 1.2.2 정적 타입 지정 언어 (Statically typed language)

- 정적타입 지정 언어란?
    - 프로그램 구성 요소의 타입을 컴파일 시점에 알 수 있고 프로그램 안에서 객체의 field, method를 사용할 때마다 컴파일러가 타입을 검증해준다.
    - 이런점은 동적 타입 (Dynamically typed language) 와 다르다.
        - ex) Groovy, JRuby
        - 타입과 관계없이 모든 값을 변수에 넣을 수 있고, 메소드나 필드 접근에 대한 검증이 실행 시점에 일어난다.
    - 정적 타입 지정의 장점
        - 성능 : 실행시점에 어떤 메소드를 호출할지 알아내는 과정이 필요 없으므로 메소드 호출이 더 빠르다.
        - 신뢰성 : 컴파일러가 프로그램의 정확성을 검증하기 위해 실행시 프로그램이 오류로 중단될 가능성이 더 적어진다.
        - 유지보수성 : 코드에서 다루는 객체가 어떤 타입에 속하는지 알 수 있기 때문에 처음 보는 코드를 다룰 때도 더 쉽다.
        - 도구 지원 : 정적 타입 지정을 활용하면 더 안전하게 리팩토링 할 수 있고, IDE 등 여러 도구 지원 기능을 더 잘 만들 수 있다.
- 코틀린의 특징
    1. 타입 추론 (type inference)
        - 모든 변수의 타입을 프로그래머가 직접 명시할 필요는 없다.
        - 대부분의 경우 코틀린 컴파일러가 문맥으로 부터 변수 타입을 자동으로 유추할 수 있기 때문에 타입 선언을 생략해도 된다.
            - `var x = 1` ==> 변수를 정수값으로 초기화한다. 변수 타입이 `Int`을 자동으로 알아낸다.
    2. Nullable type 지원
        - null이 될 수 있는 타입을 지원함에 따라 컴파일 시점에 NPE 가 발생할 수 있는지의 여부를 검사할 수 있어 프로그램의 신뢰성을 더 높일 수 있다.
    3. Function type 지원

## 1.2.3 함수형 프로그래밍과 객체지향 프로그래밍

- 함수형 프로그래밍의 핵심 개념
    - First-class function
        - 함수 (프로그램 행동을 나타내는 코드 조각) 을 일반 변수처럼 다룰 수 있다.
        - 함수를 인자로 다른 함수에 전달, 함수에서 새로운 함수를 만들어 반환할 수 있다.
    - Immutability
        - 불변 객체를 사용해 프로그램을 작성한다.
    - Side effect 없음
        - 입력이 같으면 항상 같은 출력을 내놓고, 다른 객체의 상태를 변경하지 않으며 함수 외부나 다른 바깥 환경과 상호작용하지 않기 때문에 Pure 하다.
- 함수형 프로그래밍의 장점
    - 간결성
        - Imperative 코드에 비해 더 간결하다.
        - 함수를 값처럼 활용할 수 있으면 더 강력한 추상화를 할 수 있고, 코드 중복을 막을 수 있다.
    - Safe multithreading
        - 멀티 쓰레드 프로그래밍에서는 적절한 동기화 없이는 같은 데이터를 여러 쓰레드가 변경하는 경우 가장 많은 문제가 생긴다.
        - 불변 데이터 구조, 순수 함수를 적용하면 멀티 쓰레드 환경에서 같은 데이터를 여러 쓰레드가 변경할 수 없다.
    - testable
        - 순수 함수는 테스트코드 준비 코드 없이 독립적으로 테스트 가능하다.
- 코틀린의 함수형 프로그래밍 지원
    - 함수 타입을 지원함에 따라 어떤 함수가 다른 함수를 파라미터로 받거나, 함수가 새로운 함수를 반환할 수 있다.
    - 람다 식을 지원함에 따라 코드블록을 쉽게 정의할 수 있다.
    - 데이터 클래스는 불변 값 객체를 간편하게 만들 수 있는 구문을 제공한다.
    - 표준 라이브러리는 객체와 컬렉션을 함수형 스타일로 다룰 수 있는 API를 제공한다.
- 코틀린은 함수형 프로그래밍 스타일을 강제하지는 않는다.
    - 명령형 방식이 더 적합한 경우 변경 가능한 데이터 (var) 와 부수효과를 활용하는 함수를 사용해도 된다.
    - 객체지향 + 함수형 접근 방법을 함께 조합하여 문제에 가장 적합한 도구를 사용하면 된다.

# 1.4. 코틀린의 철학

### 1.4.1. 실용성

- 실제 문제의 해결을 위해 만들어진 실용적인 용어다.
- 대규모 시스템을 개발해본 IT업계의 경험을 바탕으로 만들어짐.
- 어느 특정 프로그래밍 스타일, 패러다임 사용을 강제하지 않는다

### 1.4.2. 간결성

- 코드가 간단하고 간결할수록 내용 파악이 쉽기에, 코드에서 의미가 없는 부분은 줄이고 언어가 요구하는 구조를 만족시키기 위해 작성해야하는 부수적인 요소를 줄였다.
    - getter, setter, 생성자 파라미터를 필드에 대입하기 위한 로직 등..
- 반복되거나 길어질 수 있는 코드를 기능이 다양한 표준 라이브러리로 대체할 수 있게 했다.

### 1.4.2. 안전성

- JVM 기반에서 동작하기에 메모리 안정성 보장, buffer overflow 방지, 동적 할당 메모리를 잘못 사용함으로 인해 발생할 수 있는 다양한 문제를 예방할 수 있다.
- 정적 타입 지정 언어이기에 타입 안정성을 보장한다.
    - 대부분은 코틀린 컴파일러가 타입을 자동으로 추론하기에 자바보다도 더 적은 비용으로 안정성을 얻을 수 있다.
- 컴파일시점에 오류를 더 많이 방지해준다.
    - Nullable Type 지원으로 인해 NPE를 미리 예방할 수 있다.
    - 타입 검사와 타입 캐스팅이 한 연산자로 동작하여 ClassCastException을 방지할 수 있다.
        - 어떤 객체의 타입을 검사했고 그 타입에 속한다면 해당 타입의 멤버변수를 별도의 캐스팅 없이 사용할 수 있다.

                if (value is String)
                  println(value.toUpperCase())

### 1.4.4. 상호운용성 (interoperability)

- 자바 → 코틀린, 코틀린 → 자바 코드 호출시 아무런 조치 없이 바로 쓸 수 있다.
- 자바 & 코틀린 파일이 섞여있어도 프로그램을 컴파일 할 수 있다.

## 1.5. 코트린 도구 사용

### 1.5.1. 코틀린 코드 컴파일

- 소스코드는 `.kt`  확장자를 파일에 붙인다.
- 컴파일시, `.class` 파일을 만든다.
    - 개발중인 앱의 유형에 맞는 표준 패키징 과정을 거쳐 실행될 수 있다.
    - `kotlinc` 명령을 통해 코틀린 코드를 컴파일하여 `java` 명령으로 코드를 실행한다. ([https://kotlinlang.org/docs/tutorials/command-line.html](https://kotlinlang.org/docs/tutorials/command-line.html))

            $ kotlinc hello.kt -d hello.jar
            $ java -jar hello.jar

### 1.5.2~6

- IntelliJ IDEA 등의 IDE
- [https://try.kotlinlang.org](https://try.kotlinlang.org/)
- java-kotlin 변환기

